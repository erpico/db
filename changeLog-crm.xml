<?xml version="1.0" encoding="UTF-8" standalone="no"?><databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd"                   logicalFilePath="erpico_crm">  <changeSet id="2013-09-23-01" author="kae">    <sql><![CDATA[      CREATE TABLE IF NOT EXISTS `order_type` (        `id` int(10) unsigned NOT NULL AUTO_INCREMENT,        `name` varchar(256) NOT NULL,        `short_name` varchar(64) DEFAULT NULL,        `description` varchar(1024) DEFAULT NULL,        `icon` tinyint(4) DEFAULT NULL,        `small_icon` tinyint(4) DEFAULT NULL,        `state_model_kind` varchar(32) NOT NULL,        `handle` varchar(32) NOT NULL,        `order_number` tinyint(4) NOT NULL DEFAULT '0',        PRIMARY KEY (`id`)      );    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-01" author="kae">    <sql><![CDATA[      ALTER TABLE `sms_pool` CHANGE COLUMN `message_id` `message_id` VARCHAR(127) NOT NULL DEFAULT '0';    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-02" author="kae">    <sql><![CDATA[      ALTER TABLE `sms_in` CHANGE COLUMN `message_id` `message_id` VARCHAR(127) NOT NULL DEFAULT '0'  ;    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-03" author="kae">    <sql><![CDATA[      CREATE TABLE `order_call_history` (        `id` int(11) NOT NULL AUTO_INCREMENT,        `order_id` int(11) NOT NULL,        `call_id` bigint(20) NOT NULL,        `created` datetime NOT NULL,        PRIMARY KEY (`id`)      );    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-04" author="kae">    <sql><![CDATA[      INSERT INTO `cfg_setting` (`handle`, `val`) VALUES ('crm.map.enabled', '0');    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-05" author="mrk">    <sql><![CDATA[      CREATE TABLE `taxi_city_services` (        `city_id` int(10) NOT NULL,        `service_id` int(10) NOT NULL,        PRIMARY KEY (`city_id`,`service_id`)      );    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-06" author="mrk">    <sql>      <![CDATA[      ALTER TABLE `taxi_prices`         ADD COLUMN `city_id` INT(10) NOT NULL AFTER `service_id`,        DROP PRIMARY KEY,        ADD PRIMARY KEY (`service_id`, `city_id`, `class_id`);    ]]></sql>  </changeSet>  <changeSet id="2014-07-17-07" author="mrk">    <sql>      <![CDATA[      SELECT @val := val+0 FROM `cfg_setting` where `handle` = 'crm.city.id';      UPDATE `taxi_prices` SET `city_id` = SUBSTRING_INDEX(@val, ';', 1);      insert into `taxi_city_services` (`city_id`, `service_id`) select SUBSTRING_INDEX(@val, ';', 1), `id` from `taxi_service` where `id` > 6;    ]]>    </sql>  </changeSet>  <changeSet id="2014-09-02-01" author="kae">    <sql><![CDATA[      CREATE  TABLE IF NOT EXISTS `billing_account_type` (        `id` INT NOT NULL AUTO_INCREMENT,        `name` VARCHAR(255) NOT NULL,        PRIMARY KEY (`id`))      ENGINE = InnoDB;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-02" author="kae">    <sql><![CDATA[      CREATE  TABLE IF NOT EXISTS `billing_account` (        `id` INT NOT NULL AUTO_INCREMENT ,        `kind` TINYINT(1) NOT NULL ,        `owner_id` INT NOT NULL ,        `type_id` INT NOT NULL ,        `primary` TINYINT(1) NOT NULL DEFAULT 0 ,        `balance` DECIMAL(10,2) NOT NULL DEFAULT 0.0 ,        PRIMARY KEY (`id`) ,        INDEX `fk_billing_account_type_idx` (`type_id` ASC) ,        CONSTRAINT `fk_billing_account_type`          FOREIGN KEY (`type_id` )          REFERENCES `billing_account_type` (`id` )          ON DELETE RESTRICT          ON UPDATE RESTRICT)      ENGINE = InnoDB;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-03" author="kae">    <sql><![CDATA[      CREATE  TABLE IF NOT EXISTS `client_billing_rule` (        `id` INT NOT NULL AUTO_INCREMENT,        `action` TINYINT(2) NOT NULL,        `billing_account_type_id` INT NOT NULL,        PRIMARY KEY (`id`),        INDEX `fk_client_billing_rule_billing_account_type1_idx` (`billing_account_type_id` ASC),        CONSTRAINT `fk_client_billing_rule_billing_account_type1`          FOREIGN KEY (`billing_account_type_id` )          REFERENCES `billing_account_type` (`id` )          ON DELETE RESTRICT          ON UPDATE RESTRICT)      ENGINE = InnoDB;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-04" author="kae">    <sql><![CDATA[      INSERT INTO `billing_account_type` (`id`, `name`) VALUES (1, 'Основной счет');      INSERT INTO `billing_account_type` (`id`, `name`) VALUES (2, 'Бонусный счет');      /*        bm_Unknown = 0,        bm_User   = 1,        bm_Service = 2,        bm_Megadiscount = 3,        bm_Bonus = 4,        bm_BonusFromFriend = 5,        bm_RegisterWithFriend = 6,        bm_WWW_Service = 7,        bm_DeliveryFromOrder = 8,        bm_VipPlatinumCard = 9,        bm_Checkpoint = 10,        bm_ServiceCredit = 11       */      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('0', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('1', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('2', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('3', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('4', '2');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('5', '2');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('6', '2');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('7', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('8', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('9', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('10', '1');      INSERT INTO `client_billing_rule` (`action`, `billing_account_type_id`) VALUES ('11', '1');    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-05" author="kae">    <sql>      <![CDATA[      ALTER TABLE `clients_billing`        ADD COLUMN `account_id` INT NULL AFTER `client_id`;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-06" author="kae">    <createProcedure><![CDATA[      CREATE PROCEDURE `create_clients_billing_accounts`() BEGIN        DECLARE done INT DEFAULT 0;        DECLARE client_id DECIMAL(10, 2);        DECLARE balance DECIMAL(10, 2);        DECLARE cur CURSOR FOR SELECT c.id, c.balans FROM clients c ORDER BY c.id;        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;        PREPARE update_clients_billing_stmt FROM 'UPDATE clients_billing SET `account_id`=? WHERE `client_id`=?';        SET @account_id=0;        SET @client_id=0;        OPEN cur;        read_loop: LOOP          FETCH cur INTO client_id, balance;          IF done THEN            LEAVE read_loop;          END IF;          SET @client_id=client_id;          SET @account_id = @account_id + 1;          INSERT INTO `billing_account` (`id`, `kind`, `owner_id`, `type_id`, `primary`, `balance`)            VALUES (@account_id, '0', @client_id, '1', '1', balance);          EXECUTE update_clients_billing_stmt USING @account_id, @client_id;          SET @account_id = @account_id + 1;          INSERT INTO `billing_account` (`id`, `kind`, `owner_id`, `type_id`, `primary`, `balance`)            VALUES (@account_id, '0', @client_id, '2', '0', '0.0');          COMMIT;        END LOOP;        DEALLOCATE PREPARE update_clients_billing_stmt;        SET @account_id = @account_id + 1;        SET @SQL := CONCAT('ALTER TABLE billing_account AUTO_INCREMENT =  ', @account_id);        PREPARE _stmt FROM @SQL;        EXECUTE _stmt;        DEALLOCATE PREPARE _stmt;        CLOSE cur;      END;    ]]></createProcedure>  </changeSet>  <changeSet id="2014-09-02-07" author="kae">    <sql><![CDATA[      call `create_clients_billing_accounts`();    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-08" author="kae">    <sql><![CDATA[       DROP PROCEDURE `create_clients_billing_accounts`;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-09" author="kae">    <sql><![CDATA[      ALTER TABLE `clients_billing`        CHANGE COLUMN `account_id` `account_id` INT(11) NOT NULL,        ADD INDEX `account_id` (`account_id` ASC) ;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-10" author="kae">    <sql><![CDATA[      ALTER TABLE `billing_account`        ADD UNIQUE INDEX `uk_billing_account_kind_owner_type` (`kind` ASC, `owner_id` ASC, `type_id` ASC) ;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-11" author="kae">    <sql><![CDATA[      ALTER TABLE `billing_account`        ADD INDEX `idx_billing_account_kind_owner` (`kind` ASC, `owner_id` ASC) ;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-12" author="kae">    <sql><![CDATA[      ALTER TABLE `client_billing_rule`        ADD UNIQUE INDEX `uk_client_billing_rule_action` (`action` ASC) ;    ]]></sql>  </changeSet>  <changeSet id="2014-09-02-13" author="kae">    <sql><![CDATA[      ALTER TABLE `clients` DROP COLUMN `balans`;    ]]></sql>  </changeSet>  <changeSet id="2014-09-09-01" author="kae">    <sql><![CDATA[      CREATE  TABLE `executor_alarm` (        `id` INT NOT NULL AUTO_INCREMENT ,        `executor_id` INT NOT NULL ,        `created` DATETIME NOT NULL ,        `active` TINYINT NOT NULL ,        PRIMARY KEY (`id`) );    ]]></sql>  </changeSet>  <changeSet id="2014-09-09-02" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi`        ADD COLUMN `account_id` INT(10) NULL DEFAULT '0' AFTER `sum_from_schet`;    ]]></sql>  </changeSet>  <changeSet id="2014-10-08-01" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi_archive`        ADD COLUMN `account_id` INT(10) NULL DEFAULT '0' AFTER `sum_from_schet`;    ]]></sql>  </changeSet>  <changeSet id="2014-10-15-01" author="kae">    <sql><![CDATA[      ALTER TABLE `services_citys` ADD COLUMN `service_name` VARCHAR(255) NULL  AFTER `name` ;    ]]></sql>  </changeSet>  <changeSet id="2014-10-15-02" author="kae">    <sql><![CDATA[      UPDATE `services_citys` set `service_name`=`name` ;    ]]></sql>  </changeSet>  <changeSet id="2014-10-15-03" author="kae">    <sql><![CDATA[      ALTER TABLE `services_citys` CHANGE COLUMN `service_name` `service_name` VARCHAR(255) NOT NULL  ;    ]]></sql>  </changeSet>  <changeSet id="2014-10-29-01" author="mrk">    <sql><![CDATA[      ALTER TABLE `params`        ADD COLUMN `name` VARCHAR(255) NOT NULL DEFAULT '' AFTER `value`,        ADD COLUMN `description` VARCHAR(1023) NOT NULL DEFAULT '' AFTER `name`;    ]]></sql>  </changeSet>  <changeSet id="2014-10-29-02" author="mrk">    <sql><![CDATA[      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (1, '', 'SMS_TO_CLIENTS', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_TO_CLIENTS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (2, '', 'SMS_TO_EXUCATORS', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_TO_EXUCATORS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (3, '', 'BLACK_LIST_MANAGER_NOTIFY_EMAIL', '')   ON DUPLICATE KEY UPDATE `name` = 'BLACK_LIST_MANAGER_NOTIFY_EMAIL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (4, '', 'DEFAULT_SMS_GATEWAY', '')   ON DUPLICATE KEY UPDATE `name` = 'DEFAULT_SMS_GATEWAY';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (5, '', 'OSMP_BALANCE', '')   ON DUPLICATE KEY UPDATE `name` = 'OSMP_BALANCE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (6, '', 'CALC_DEFAULT_ACTIVE', '')   ON DUPLICATE KEY UPDATE `name` = 'CALC_DEFAULT_ACTIVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (7, '', 'CALC_CAN_DISABLED', '')   ON DUPLICATE KEY UPDATE `name` = 'CALC_CAN_DISABLED';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (8, '', 'MOBW_BALANCE', '')   ON DUPLICATE KEY UPDATE `name` = 'MOBW_BALANCE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (9, '', 'REPORTS_OPERATORS_PRICES', '')   ON DUPLICATE KEY UPDATE `name` = 'REPORTS_OPERATORS_PRICES';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (10, '', 'CLIENTS_PRIORITY_ORDERS_COUNT', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENTS_PRIORITY_ORDERS_COUNT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (11, '', 'CLIENT_TRIP_COUNT_ABOVE', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_TRIP_COUNT_ABOVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (12, '', 'CLIENT_TRIP_30_DAYS_SUM_ABOVE', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_TRIP_30_DAYS_SUM_ABOVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (13, '', 'CLIENT_TRIP_30_DAYS_COUNT_ABOVE', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_TRIP_30_DAYS_COUNT_ABOVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (14, '', 'CLIENT_TRIP_CREDIT_PERCENT', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_TRIP_CREDIT_PERCENT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (15, '', 'QUALITY_CONTROL_DEP_EMAIL', '')   ON DUPLICATE KEY UPDATE `name` = 'QUALITY_CONTROL_DEP_EMAIL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (16, '', 'PARTNERS_REQ_INFO_ACTIVE', '')   ON DUPLICATE KEY UPDATE `name` = 'PARTNERS_REQ_INFO_ACTIVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (17, '', 'CLIENT_SMS_FORMAT', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_SMS_FORMAT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (18, '', 'PC_SUPERVISOR', '')   ON DUPLICATE KEY UPDATE `name` = 'PC_SUPERVISOR';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (19, '', 'AUTO_TTS_CARREADY', '')   ON DUPLICATE KEY UPDATE `name` = 'AUTO_TTS_CARREADY';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (20, '', 'CLIENT_TTS_FORMAT', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_TTS_FORMAT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (21, '', 'SMS_NONCLIENT_AFTERORDER', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_NONCLIENT_AFTERORDER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (22, '', 'CAR_OPEN_CLOSE_MANAGER_NOTIFY_EMAIL', '')   ON DUPLICATE KEY UPDATE `name` = 'CAR_OPEN_CLOSE_MANAGER_NOTIFY_EMAIL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (23, '', 'J2ME_DRIVER_APP_VERSION', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_DRIVER_APP_VERSION';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (24, '', 'J2ME_DRIVER_APP_DLOAD_URL', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_DRIVER_APP_DLOAD_URL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (25, '', 'ENABLE_GOOD_MAN_ACTION', '')   ON DUPLICATE KEY UPDATE `name` = 'ENABLE_GOOD_MAN_ACTION';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (26, '', 'GOOD_MAN_ACTION_BONUS', '')   ON DUPLICATE KEY UPDATE `name` = 'GOOD_MAN_ACTION_BONUS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (27, '', 'GOOD_MAN_ACTION_BONUS_PERIOD', '')   ON DUPLICATE KEY UPDATE `name` = 'GOOD_MAN_ACTION_BONUS_PERIOD';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (28, '', 'PUT_ON_TIME_INST', '')   ON DUPLICATE KEY UPDATE `name` = 'PUT_ON_TIME_INST';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (29, '', 'GPS_TIMEOUT', '')   ON DUPLICATE KEY UPDATE `name` = 'GPS_TIMEOUT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (30, '', 'GPS_DISTANCE', '')   ON DUPLICATE KEY UPDATE `name` = 'GPS_DISTANCE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (31, '', 'MINUTE_PRICE_PENALTY_CONDITION', '')   ON DUPLICATE KEY UPDATE `name` = 'MINUTE_PRICE_PENALTY_CONDITION';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (32, '', 'COST_PENALTY_SMS_TEXT', '')   ON DUPLICATE KEY UPDATE `name` = 'COST_PENALTY_SMS_TEXT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (33, '', 'COST_PENALTY_AMOUNT', '')   ON DUPLICATE KEY UPDATE `name` = 'COST_PENALTY_AMOUNT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (34, '', 'WIKI_URL', '')   ON DUPLICATE KEY UPDATE `name` = 'WIKI_URL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (35, '', 'AUTO_ASSIGN_CAR', '')   ON DUPLICATE KEY UPDATE `name` = 'AUTO_ASSIGN_CAR';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (36, '', 'SEND_SMS_AFTER_REGISTER', '')   ON DUPLICATE KEY UPDATE `name` = 'SEND_SMS_AFTER_REGISTER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (37, '', 'SMS_WAITING_INTERVAL_BEFORE', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_WAITING_INTERVAL_BEFORE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (38, '', 'SMS_WAITING_INTERVAL_BETWEEN', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_WAITING_INTERVAL_BETWEEN';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (39, '', 'SMS_WAITING_FOR_DELIVERY_RECEIPT', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_WAITING_FOR_DELIVERY_RECEIPT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (40, '', 'AGENTS_COUNT_RED_ALARM', '')   ON DUPLICATE KEY UPDATE `name` = 'AGENTS_COUNT_RED_ALARM';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (41, '', 'ENABLE_ORDERS_VALIDATION', '')   ON DUPLICATE KEY UPDATE `name` = 'ENABLE_ORDERS_VALIDATION';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (42, '', 'USE_PRECALCULATED_PRICE', '')   ON DUPLICATE KEY UPDATE `name` = 'USE_PRECALCULATED_PRICE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (43, '', 'J2ME_DRIVER_SESSION_TIMEOUT', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_DRIVER_SESSION_TIMEOUT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (44, '', 'J2ME_DRIVER_ORDER_INTERACTIVE', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_DRIVER_ORDER_INTERACTIVE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (45, '', 'DRIVER_ACTION_AFTER_ORDER_REFUSAL', '')   ON DUPLICATE KEY UPDATE `name` = 'DRIVER_ACTION_AFTER_ORDER_REFUSAL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (46, '', 'J2ME_DRIVER_ORDER_ACCEPT_TIMEOUT', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_DRIVER_ORDER_ACCEPT_TIMEOUT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (47, '', 'CLIENTS_DISABLED_SDACHA', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENTS_DISABLED_SDACHA';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (48, '', 'EXECUTORS_DISABLED_LOAN', '')   ON DUPLICATE KEY UPDATE `name` = 'EXECUTORS_DISABLED_LOAN';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (49, '', 'TAXI_ENABLE_SELFTAKING', '')   ON DUPLICATE KEY UPDATE `name` = 'TAXI_ENABLE_SELFTAKING';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (50, '', 'J2ME_ENABLE_NEW_ORDERS_NOTIFY', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_ENABLE_NEW_ORDERS_NOTIFY';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (51, '', 'J2ME_NEW_ORDERS_NOTIFY_DELAY_SECONDS', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_NEW_ORDERS_NOTIFY_DELAY_SECONDS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (52, '', 'SMTP_SERVER', '')   ON DUPLICATE KEY UPDATE `name` = 'SMTP_SERVER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (53, '', 'ORDERS_DISPATCHING_REASSIGN_ENABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDERS_DISPATCHING_REASSIGN_ENABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (54, '', 'ORDERS_DISPATCHING_REASSING_TIME_SLICE', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDERS_DISPATCHING_REASSING_TIME_SLICE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (55, '', 'ORDERS_DISPATCHING_REASSIGN_DELAY', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDERS_DISPATCHING_REASSIGN_DELAY';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (56, '', 'NIGHTDISCOUNT_ENABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'NIGHTDISCOUNT_ENABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (57, '', 'NIGHTDISCOUNT_TIME_FROM', '')   ON DUPLICATE KEY UPDATE `name` = 'NIGHTDISCOUNT_TIME_FROM';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (58, '', 'NIGHTDISCOUNT_TIME_TILL', '')   ON DUPLICATE KEY UPDATE `name` = 'NIGHTDISCOUNT_TIME_TILL';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (59, '', 'NIGHTDISCOUNT_AMOUNT', '')   ON DUPLICATE KEY UPDATE `name` = 'NIGHTDISCOUNT_AMOUNT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (60, '', 'NIGHTDISCOUNT_AMOUNT_TYPE', '')   ON DUPLICATE KEY UPDATE `name` = 'NIGHTDISCOUNT_AMOUNT_TYPE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (61, '', 'BIRTHDATE_SMS_SEND_ENABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_SMS_SEND_ENABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (62, '', 'BIRTHDATE_SMS_TEXT', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_SMS_TEXT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (63, '', 'BIRTHDATE_ORDER_DISCOUNT_ENABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_ORDER_DISCOUNT_ENABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (64, '', 'BIRTHDATE_ORDER_DISCOUNT_AMOUNT', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_ORDER_DISCOUNT_AMOUNT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (65, '', 'ASTERISKDB_HOST', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISKDB_HOST';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (66, '', 'ASTERISKDB_USER', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISKDB_USER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (67, '', 'ASTERISKDB_PASSWORD', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISKDB_PASSWORD';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (68, '', 'ASTERISKDB_DBNAME', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISKDB_DBNAME';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (69, '', 'SMS_SEND_ALLOW_FROM', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_SEND_ALLOW_FROM';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (70, '', 'J2ME_SHOW_ORDERS_TO_TIME', '')   ON DUPLICATE KEY UPDATE `name` = 'J2ME_SHOW_ORDERS_TO_TIME';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (71, '', 'EXECUTORS_DECLINE_GO_AWAY_HOURS', '')   ON DUPLICATE KEY UPDATE `name` = 'EXECUTORS_DECLINE_GO_AWAY_HOURS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (72, '', 'ASTERISK_AMI_HOST', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISK_AMI_HOST';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (73, '', 'ASTERISK_AMI_PORT', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISK_AMI_PORT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (74, '', 'ASTERISK_AMI_USER', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISK_AMI_USER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (75, '', 'ASTERISK_AMI_PASSWORD', '')   ON DUPLICATE KEY UPDATE `name` = 'ASTERISK_AMI_PASSWORD';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (76, '', 'CONFIRM_CALL_LONG_WAIT', '')   ON DUPLICATE KEY UPDATE `name` = 'CONFIRM_CALL_LONG_WAIT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (77, '', 'TAXI_AUTO_DISPATCHER', '')   ON DUPLICATE KEY UPDATE `name` = 'TAXI_AUTO_DISPATCHER';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (78, '', 'ORDER_CANCEL_DEFAULT_CLIENT_SMS_TEXT', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDER_CANCEL_DEFAULT_CLIENT_SMS_TEXT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (79, '', 'ORDER_CANCEL_SEND_SMS_IF_CLIENT_DIDNT_GET_OUT', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDER_CANCEL_SEND_SMS_IF_CLIENT_DIDNT_GET_OUT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (80, '', 'ORDER_CANCEL_SEND_SMS_IF_CLIENT_DIDNT_WAIT', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDER_CANCEL_SEND_SMS_IF_CLIENT_DIDNT_WAIT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (81, '', 'SORT_ORDERS_BY_INCOMING_PHONE_LINES', '')   ON DUPLICATE KEY UPDATE `name` = 'SORT_ORDERS_BY_INCOMING_PHONE_LINES';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (82, '', 'SHORT_TAXI_TABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'SHORT_TAXI_TABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (83, '', 'SHOW_RSDRIVER_ICON_IN_TAXI_TABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'SHOW_RSDRIVER_ICON_IN_TAXI_TABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (84, '', 'BIRTHDATE_SMS_HOUR', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_SMS_HOUR';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (85, '', 'BIRTHDATE_SMS_MINUTE', '')   ON DUPLICATE KEY UPDATE `name` = 'BIRTHDATE_SMS_MINUTE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (86, '', 'CLIENT_ORDER_SMS_ON_SET_EXECUTOR', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_ORDER_SMS_ON_SET_EXECUTOR';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (87, '', 'SMS_TRANSLIT_BY_DEFAULT', '')   ON DUPLICATE KEY UPDATE `name` = 'SMS_TRANSLIT_BY_DEFAULT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (88, '', 'SHOW_INCOMING_PHONE_LINE_IN_MOBILE_APP', '')   ON DUPLICATE KEY UPDATE `name` = 'SHOW_INCOMING_PHONE_LINE_IN_MOBILE_APP';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (89, '', 'MOBILE_APP_GET_EXCHANGE_ORDERS_LIMIT', '')   ON DUPLICATE KEY UPDATE `name` = 'MOBILE_APP_GET_EXCHANGE_ORDERS_LIMIT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (90, '', 'SET_EXECUTOR_SECOND_ORDER_WARNING_DISABLE', '')   ON DUPLICATE KEY UPDATE `name` = 'SET_EXECUTOR_SECOND_ORDER_WARNING_DISABLE';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (91, '', 'ORDER_CANCEL_ALLOW_SEND_SMS', '')   ON DUPLICATE KEY UPDATE `name` = 'ORDER_CANCEL_ALLOW_SEND_SMS';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (92, '', 'MOBILE_APP_ALLOW_CALL_TO_CLIENT', '')   ON DUPLICATE KEY UPDATE `name` = 'MOBILE_APP_ALLOW_CALL_TO_CLIENT';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (93, '', 'CLIENT_LONG_DRIVER_WAIT_REPEAT_NOTIFY', '')   ON DUPLICATE KEY UPDATE `name` = 'CLIENT_LONG_DRIVER_WAIT_REPEAT_NOTIFY';      INSERT INTO `params` (`id`, `value`, `name`, `description`) VALUES (94, '', 'WARN_IF_SIMILAR_ORDERS', '')   ON DUPLICATE KEY UPDATE `name` = 'WARN_IF_SIMILAR_ORDERS';    ]]></sql>  </changeSet>  <changeSet id="2014-12-10-01" author="kae">    <sql><![CDATA[      ALTER TABLE `street_direction`         DROP PRIMARY KEY,        ADD PRIMARY KEY USING BTREE (`street`, `start`, `end`, `direction`, `corpus`, `city`);    ]]></sql>  </changeSet>  <changeSet id="2014-12-17-01" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi`        ADD COLUMN `original_service` INT(11) NOT NULL DEFAULT '0' AFTER `napr_from_city`;    ]]></sql>  </changeSet>  <changeSet id="2014-12-17-02" author="kae">    <sql><![CDATA[      UPDATE `zakazi` SET `original_service` = `napr_from_city`;    ]]></sql>  </changeSet>  <changeSet id="2014-12-17-03" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi_online`        ADD COLUMN `original_service` INT(11) NOT NULL DEFAULT '0' AFTER `napr_from_city`;    ]]></sql>  </changeSet>  <changeSet id="2014-12-17-04" author="kae">    <sql><![CDATA[      UPDATE `zakazi_online` SET `original_service` = `napr_from_city`;    ]]></sql>  </changeSet>  <changeSet id="2014-12-19-01" author="rp">    <sql><![CDATA[      ALTER TABLE `work_channels` ADD COLUMN `delay` INT(10) NOT NULL DEFAULT '-1' AFTER `description`;    ]]></sql>  </changeSet>  <changeSet id="2014-02-05-01" author="mrk">    <sql><![CDATA[      CREATE TABLE `order_transfer_options` (          `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,          `city_from` INT(10) UNSIGNED NOT NULL DEFAULT '0',          `city_to` INT(10) UNSIGNED NOT NULL DEFAULT '0',          `priority` INT(10) UNSIGNED NOT NULL DEFAULT '0',          `timeout` INT(10) UNSIGNED NOT NULL DEFAULT '0',          `no_cars_on_map_toggle` INT(1) UNSIGNED NOT NULL DEFAULT '0',          PRIMARY KEY (`id`),          UNIQUE INDEX `id_UNIQUE` (`id` ASC))        ENGINE = MyISAM        DEFAULT CHARACTER SET = utf8;    ]]></sql>  </changeSet>  <changeSet id="2014-02-05-02" author="mrk">    <sql><![CDATA[      INSERT INTO `params` SET `id` = 97, `value` = '0', `name` = 'AUTO_ORDER_TRANSFER';    ]]></sql>  </changeSet>  <changeSet id="2014-02-05-03" author="mrk">    <sql><![CDATA[      ALTER TABLE `zakazi_online`        ADD COLUMN `time_transfered` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00' AFTER `kvrem`;    ]]></sql>  </changeSet>  <changeSet id="2014-02-11-01" author="mrk">    <sql><![CDATA[      ALTER TABLE `zakazi_locks`        ADD COLUMN `ref_type` INT NOT NULL DEFAULT '0' AFTER `user`,        ADD COLUMN `ref_id` INT NOT NULL DEFAULT '0' AFTER `ref_type`;    ]]></sql>  </changeSet>  <changeSet id="2014-02-27-01" author="mrk">    <sql><![CDATA[      ALTER TABLE `zakazi_locks`        ADD COLUMN `token` VARCHAR(32) NOT NULL AFTER `user`;    ]]></sql>  </changeSet>  <changeSet id="2015-03-02-01" author="kae">    <sql><![CDATA[      CREATE TABLE `client_phone_bind_code` (        `phone` VARCHAR(15) NOT NULL,        `code` VARCHAR(8) NOT NULL,        `created` DATETIME NOT NULL,        PRIMARY KEY (`phone`));    ]]></sql>  </changeSet>  <changeSet id="2015-03-03-01" author="kae">    <sql><![CDATA[      CREATE TABLE `client_auth_token` (        `client_id` INT NOT NULL,        `token` VARCHAR(32) NOT NULL,        `created` DATETIME NOT NULL,        PRIMARY KEY (`client_id`),        UNIQUE INDEX `client_auth_token_ui1` (`token` ASC));    ]]></sql>  </changeSet>  <changeSet id="2015-03-04-01" author="kae">    <sql><![CDATA[      DELETE FROM `client_auth_token`;    ]]></sql>  </changeSet>  <changeSet id="2015-03-04-02" author="kae">    <sql><![CDATA[      ALTER TABLE `client_auth_token`        ADD COLUMN `phone` VARCHAR(15) NOT NULL AFTER `client_id`;    ]]></sql>  </changeSet>  <changeSet id="2015-03-06-01" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi`        ADD COLUMN location_time DATETIME NULL,        ADD COLUMN latitude DECIMAL(12, 9) NULL,        ADD COLUMN longitude DECIMAL(12, 9) NULL,        ADD COLUMN location_accuracy DECIMAL(10, 2) NULL;    ]]></sql>  </changeSet>  <changeSet id="2015-03-06-02" author="kae">    <sql><![CDATA[      ALTER TABLE `zakazi_archive`        ADD COLUMN location_time DATETIME NULL,        ADD COLUMN latitude DECIMAL(12, 9) NULL,        ADD COLUMN longitude DECIMAL(12, 9) NULL,        ADD COLUMN location_accuracy DECIMAL(10, 2) NULL;    ]]></sql>  </changeSet>  <changeSet id="2015-04-02-01" author="rp">    <sql><![CDATA[      ALTER TABLE `standard_client_bonus_settings` ADD COLUMN `akciya` INT NOT NULL DEFAULT 0 AFTER `friend_bonus_size`;    ]]></sql>  </changeSet></databaseChangeLog>